<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# concurrent\_downloader

```go
import "concurrent_downloader"
```

Package main is the entry point of the concurrent downloader application. It initializes the downloader, prompts the user for a URL, and orchestrates the download process through the manager package.

## Index



# cli

```go
import "concurrent_downloader/cli"
```

Package cli handles command\-line interface interactions with the user. It provides functions for reading user input, parsing URLs, and other CLI\-related operations. This package separates user interaction logic from the core download functionality.

## Index

- [func GetURLFromUser\(\) \(\*url.URL, error\)](<#GetURLFromUser>)


<a name="GetURLFromUser"></a>
## func GetURLFromUser

```go
func GetURLFromUser() (*url.URL, error)
```



# greenhttp

```go
import "concurrent_downloader/greenhttp"
```

Package greenhttp provides a wrapper around the standard http.Client for making HTTP requests. It abstracts HTTP request creation and execution, making it easier to perform HTTP operations with custom headers and request bodies throughout the downloader application.

## Index

- [type HTTPClient](<#HTTPClient>)
  - [func NewHTTPClient\(\) \*HTTPClient](<#NewHTTPClient>)
  - [func \(c \*HTTPClient\) Do\(method, url string, headers map\[string\]string\) \(\*http.Response, error\)](<#HTTPClient.Do>)
  - [func \(c \*HTTPClient\) DoRequest\(req \*http.Request\) \(\*http.Response, error\)](<#HTTPClient.DoRequest>)
  - [func \(c \*HTTPClient\) NewRequest\(method, url string, headers map\[string\]string, body \[\]byte\) \(\*http.Request, error\)](<#HTTPClient.NewRequest>)


<a name="HTTPClient"></a>
## type HTTPClient



```go
type HTTPClient struct {
    // contains filtered or unexported fields
}
```

<a name="NewHTTPClient"></a>
### func NewHTTPClient

```go
func NewHTTPClient() *HTTPClient
```

NewHTTPClient creates and returns a new HTTPClient instance with a default http.Client.

<a name="HTTPClient.Do"></a>
### func \(\*HTTPClient\) Do

```go
func (c *HTTPClient) Do(method, url string, headers map[string]string) (*http.Response, error)
```

Do executes an HTTP request with the specified method, URL, and headers. It creates the request, sends it, and returns the response or an error.

<a name="HTTPClient.DoRequest"></a>
### func \(\*HTTPClient\) DoRequest

```go
func (c *HTTPClient) DoRequest(req *http.Request) (*http.Response, error)
```

DoRequest executes the provided HTTP request using the underlying http.Client. It returns the HTTP response or an error if the request fails.

<a name="HTTPClient.NewRequest"></a>
### func \(\*HTTPClient\) NewRequest

```go
func (c *HTTPClient) NewRequest(method, url string, headers map[string]string, body []byte) (*http.Request, error)
```

NewRequest creates a new HTTP request with the specified method, URL, headers, and optional body. It returns the constructed http.Request or an error if the request cannot be created.

# manager

```go
import "concurrent_downloader/manager"
```

Package manager orchestrates the concurrent file download process. It coordinates the workflow: fetching file metadata, splitting downloads into chunks, managing parallel downloads, merging chunks, and cleanup. This package serves as the main controller for the downloader application.

## Index

- [func End\(\)](<#End>)
- [func Init\(\)](<#Init>)
- [func Run\(urlPtr \*url.URL\)](<#Run>)


<a name="End"></a>
## func End

```go
func End()
```

End prints the end message of the day \(MOTD\) when the downloader finishes.

<a name="Init"></a>
## func Init

```go
func Init()
```

Init initializes the downloader by printing the startup message of the day \(MOTD\).

<a name="Run"></a>
## func Run

```go
func Run(urlPtr *url.URL)
```

Run orchestrates the concurrent download process for the given URL. It performs a HEAD request to get file metadata, splits the download into chunks, downloads each chunk concurrently, merges the chunks, and cleans up temporary files.

# models

```go
import "concurrent_downloader/models"
```

Package models defines the core data structures and download operations. It contains the DownloadRequest type and methods for chunking files, downloading chunks, merging downloaded parts, and cleaning up temporary files. This package encapsulates the business logic for the concurrent download functionality.

## Index

- [type DownloadRequest](<#DownloadRequest>)
  - [func \(d \*DownloadRequest\) CleanUpTempFiles\(\) error](<#DownloadRequest.CleanUpTempFiles>)
  - [func \(d \*DownloadRequest\) Download\(idx int, byteChunk \[2\]int\) error](<#DownloadRequest.Download>)
  - [func \(d \*DownloadRequest\) MergeDownloads\(\) error](<#DownloadRequest.MergeDownloads>)
  - [func \(d \*DownloadRequest\) SplitIntoChunks\(\) \[\]\[2\]int](<#DownloadRequest.SplitIntoChunks>)


<a name="DownloadRequest"></a>
## type DownloadRequest



```go
type DownloadRequest struct {
    Url        string
    FileName   string
    Chunks     int
    Chunksize  int
    TotalSize  int
    HttpClient *greenhttp.HTTPClient
}
```

<a name="DownloadRequest.CleanUpTempFiles"></a>
### func \(\*DownloadRequest\) CleanUpTempFiles

```go
func (d *DownloadRequest) CleanUpTempFiles() error
```

CleanUpTempFiles removes all temporary chunk files created during the download process. It returns an error if any file cannot be removed.

<a name="DownloadRequest.Download"></a>
### func \(\*DownloadRequest\) Download

```go
func (d *DownloadRequest) Download(idx int, byteChunk [2]int) error
```

Download downloads a specific chunk of the file using HTTP range requests. It saves the chunk to a temporary file and returns an error if the download fails.

<a name="DownloadRequest.MergeDownloads"></a>
### func \(\*DownloadRequest\) MergeDownloads

```go
func (d *DownloadRequest) MergeDownloads() error
```

MergeDownloads combines all downloaded chunk files into a single output file. It reads each temporary chunk file in order and writes them sequentially to the final file.

<a name="DownloadRequest.SplitIntoChunks"></a>
### func \(\*DownloadRequest\) SplitIntoChunks

```go
func (d *DownloadRequest) SplitIntoChunks() [][2]int
```

SplitIntoChunks divides the total file size into byte range chunks for parallel downloading. It returns a 2D array where each element contains the start and end byte positions for a chunk.

# util

```go
import "concurrent_downloader/util"
```

Package util provides utility functions used across the downloader application. It contains helper functions for common operations like extracting filenames from URLs and defines shared constants. This package centralizes reusable functionality to avoid code duplication and maintain consistency.

## Index

- [Constants](<#constants>)
- [func ExtractFileName\(urlStr string\) \(string, error\)](<#ExtractFileName>)


## Constants

<a name="CONTENT_LENGTH_HEADER"></a>header

```go
const CONTENT_LENGTH_HEADER = "Content-Length"
```

<a name="DEFAUTL_STR"></a>string

```go
const DEFAUTL_STR = ""
```

<a name="EndMotd"></a>

```go
const EndMotd = "88888888888 888    888        d8888 888b    888 888    d8P       Y88b   d88P  .d88888b.  888     888      888 \r\n    888     888    888       d88888 8888b   888 888   d8P         Y88b d88P  d88P\" \"Y88b 888     888      888 \r\n    888     888    888      d88P888 88888b  888 888  d8P           Y88o88P   888     888 888     888      888 \r\n    888     8888888888     d88P 888 888Y88b 888 888d88K             Y888P    888     888 888     888      888 \r\n    888     888    888    d88P  888 888 Y88b888 8888888b             888     888     888 888     888      888 \r\n    888     888    888   d88P   888 888  Y88888 888  Y88b            888     888     888 888     888      Y8P \r\n    888     888    888  d8888888888 888   Y8888 888   Y88b           888     Y88b. .d88P Y88b. .d88P       \"  \r\n    888     888    888 d88P     888 888    Y888 888    Y88b          888      \"Y88888P\"   \"Y88888P\"       888 \r\n                                                                                                              \r\n                                                                                                              \r\n                                                                                                              "
```

<a name="InitMotd"></a>motd

```go
const InitMotd = "888       888          888                                              888                  .d8888b.  8888888888 8888888b.  \r\n888   o   888          888                                              888                 d88P  Y88b 888        888  \"Y88b \r\n888  d8b  888          888                                              888                 888    888 888        888    888 \r\n888 d888b 888  .d88b.  888  .d8888b .d88b.  88888b.d88b.   .d88b.       888888 .d88b.       888        8888888    888    888 \r\n888d88888b888 d8P  Y8b 888 d88P\"   d88\"\"88b 888 \"888 \"88b d8P  Y8b      888   d88\"\"88b      888        888        888    888 \r\n88888P Y88888 88888888 888 888     888  888 888  888  888 88888888      888   888  888      888    888 888        888    888 \r\n8888P   Y8888 Y8b.     888 Y88b.   Y88..88P 888  888  888 Y8b.          Y88b. Y88..88P      Y88b  d88P 888        888  .d88P \r\n888P     Y888  \"Y8888  888  \"Y8888P \"Y88P\"  888  888  888  \"Y8888        \"Y888 \"Y88P\"        \"Y8888P\"  888        8888888P\"  \r\n                                                                                                                             \r\n                                                                                                                             \r\n                                                                                                                             "
```

<a name="TMP_FILE_PREFIX"></a>file

```go
const TMP_FILE_PREFIX = "tmpfile"
```

<a name="WORKER_ROUTINES"></a>worker

```go
const WORKER_ROUTINES = 10 // can be increased acc to usecase
```

<a name="ExtractFileName"></a>
## func ExtractFileName

```go
func ExtractFileName(urlStr string) (string, error)
```

ExtractFileName parses the URL and extracts the filename from the path component. It returns the filename or an error if the filename cannot be determined.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
